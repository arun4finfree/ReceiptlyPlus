import{g as Q,r as Z}from"./vendor-Y7T1HomI.js";var W={exports:{}},U={exports:{}},B,V;function tt(){if(V)return B;V=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return B=e,B}var q,H;function et(){if(H)return q;H=1;var e=tt();function r(){}function n(){}return n.resetWarningCache=r,q=function(){function t(a,u,l,i,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function o(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:r};return s.PropTypes=s,s},q}var Y;function nt(){return Y||(Y=1,U.exports=et()()),U.exports}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function R(e,r,n){this.x=e,this.y=r,this.time=n||new Date().getTime()}R.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};R.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};R.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function N(e,r,n,t){this.startPoint=e,this.control1=r,this.control2=n,this.endPoint=t}N.prototype.length=function(){for(var e=10,r=0,n=void 0,t=void 0,o=0;o<=e;o+=1){var s=o/e,a=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){var l=a-n,i=u-t;r+=Math.sqrt(l*l+i*i)}n=a,t=u}return r};N.prototype._point=function(e,r,n,t,o){return r*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*t*(1-e)*e*e+o*e*e*e};function rt(e,r,n){var t,o,s,a=null,u=0;n||(n={});var l=function(){u=n.leading===!1?0:Date.now(),a=null,s=e.apply(t,o),a||(t=o=null)};return function(){var i=Date.now();!u&&n.leading===!1&&(u=i);var c=r-(i-u);return t=this,o=arguments,c<=0||c>r?(a&&(clearTimeout(a),a=null),u=i,s=e.apply(t,o),a||(t=o=null)):!a&&n.trailing!==!1&&(a=setTimeout(l,c)),s}}function _(e,r){var n=this,t=r||{};this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=rt(_.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=_.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(o){o.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(o))},this._handleMouseMove=function(o){n._mouseButtonDown&&n._strokeMoveUpdate(o)},this._handleMouseUp=function(o){o.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(o))},this._handleTouchStart=function(o){if(o.targetTouches.length===1){var s=o.changedTouches[0];n._strokeBegin(s)}},this._handleTouchMove=function(o){o.preventDefault();var s=o.targetTouches[0];n._strokeMoveUpdate(s)},this._handleTouchEnd=function(o){var s=o.target===n._canvas;s&&(o.preventDefault(),n._strokeEnd(o))},this.on()}_.prototype.clear=function(){var e=this._ctx,r=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,r.width,r.height),e.fillRect(0,0,r.width,r.height),this._data=[],this._reset(),this._isEmpty=!0};_.prototype.fromDataURL=function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=new Image,o=n.ratio||window.devicePixelRatio||1,s=n.width||this._canvas.width/o,a=n.height||this._canvas.height/o;this._reset(),t.src=e,t.onload=function(){r._ctx.drawImage(t,0,0,s,a)},this._isEmpty=!1};_.prototype.toDataURL=function(e){var r;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,t=Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];return(r=this._canvas).toDataURL.apply(r,[e].concat(t))}};_.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};_.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};_.prototype.isEmpty=function(){return this._isEmpty};_.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};_.prototype._strokeUpdate=function(e){var r=e.clientX,n=e.clientY,t=this._createPoint(r,n),o=this._data[this._data.length-1],s=o&&o[o.length-1],a=s&&t.distanceTo(s)<this.minDistance;if(!(s&&a)){var u=this._addPoint(t),l=u.curve,i=u.widths;l&&i&&this._drawCurve(l,i.start,i.end),this._data[this._data.length-1].push({x:t.x,y:t.y,time:t.time,color:this.penColor})}};_.prototype._strokeEnd=function(e){var r=this.points.length>2,n=this.points[0];if(!r&&n&&this._drawDot(n),n){var t=this._data[this._data.length-1],o=t[t.length-1];n.equals(o)||t.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};_.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};_.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};_.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};_.prototype._createPoint=function(e,r,n){var t=this._canvas.getBoundingClientRect();return new R(e-t.left,r-t.top,n||new Date().getTime())};_.prototype._addPoint=function(e){var r=this.points,n=void 0;if(r.push(e),r.length>2){r.length===3&&r.unshift(r[0]),n=this._calculateCurveControlPoints(r[0],r[1],r[2]);var t=n.c2;n=this._calculateCurveControlPoints(r[1],r[2],r[3]);var o=n.c1,s=new N(r[1],t,o,r[2]),a=this._calculateCurveWidths(s);return r.shift(),{curve:s,widths:a}}return{}};_.prototype._calculateCurveControlPoints=function(e,r,n){var t=e.x-r.x,o=e.y-r.y,s=r.x-n.x,a=r.y-n.y,u={x:(e.x+r.x)/2,y:(e.y+r.y)/2},l={x:(r.x+n.x)/2,y:(r.y+n.y)/2},i=Math.sqrt(t*t+o*o),c=Math.sqrt(s*s+a*a),d=u.x-l.x,f=u.y-l.y,g=c/(i+c),x={x:l.x+d*g,y:l.y+f*g},y=r.x-x.x,P=r.y-x.y;return{c1:new R(u.x+y,u.y+P),c2:new R(l.x+y,l.y+P)}};_.prototype._calculateCurveWidths=function(e){var r=e.startPoint,n=e.endPoint,t={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(r)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(o);return t.start=this._lastWidth,t.end=s,this._lastVelocity=o,this._lastWidth=s,t};_.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};_.prototype._drawPoint=function(e,r,n){var t=this._ctx;t.moveTo(e,r),t.arc(e,r,n,0,2*Math.PI,!1),this._isEmpty=!1};_.prototype._drawCurve=function(e,r,n){var t=this._ctx,o=n-r,s=Math.floor(e.length());t.beginPath();for(var a=0;a<s;a+=1){var u=a/s,l=u*u,i=l*u,c=1-u,d=c*c,f=d*c,g=f*e.startPoint.x;g+=3*d*u*e.control1.x,g+=3*c*l*e.control2.x,g+=i*e.endPoint.x;var x=f*e.startPoint.y;x+=3*d*u*e.control1.y,x+=3*c*l*e.control2.y,x+=i*e.endPoint.y;var y=r+i*o;this._drawPoint(g,x,y)}t.closePath(),t.fill()};_.prototype._drawDot=function(e){var r=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;r.beginPath(),this._drawPoint(e.x,e.y,n),r.closePath(),r.fill()};_.prototype._fromData=function(e,r,n){for(var t=0;t<e.length;t+=1){var o=e[t];if(o.length>1)for(var s=0;s<o.length;s+=1){var a=o[s],u=new R(a.x,a.y,a.time),l=a.color;if(s===0)this.penColor=l,this._reset(),this._addPoint(u);else if(s!==o.length-1){var i=this._addPoint(u),c=i.curve,d=i.widths;c&&d&&r(c,d,l)}}else{this._reset();var f=o[0];n(f)}}};_.prototype._toSVG=function(){var e=this,r=this._data,n=this._canvas,t=Math.max(window.devicePixelRatio||1,1),o=0,s=0,a=n.width/t,u=n.height/t,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",n.width),l.setAttributeNS(null,"height",n.height),this._fromData(r,function(v,E,D){var C=document.createElement("path");if(!isNaN(v.control1.x)&&!isNaN(v.control1.y)&&!isNaN(v.control2.x)&&!isNaN(v.control2.y)){var z="M "+v.startPoint.x.toFixed(3)+","+v.startPoint.y.toFixed(3)+" "+("C "+v.control1.x.toFixed(3)+","+v.control1.y.toFixed(3)+" ")+(v.control2.x.toFixed(3)+","+v.control2.y.toFixed(3)+" ")+(v.endPoint.x.toFixed(3)+","+v.endPoint.y.toFixed(3));C.setAttribute("d",z),C.setAttribute("stroke-width",(E.end*2.25).toFixed(3)),C.setAttribute("stroke",D),C.setAttribute("fill","none"),C.setAttribute("stroke-linecap","round"),l.appendChild(C)}},function(v){var E=document.createElement("circle"),D=typeof e.dotSize=="function"?e.dotSize():e.dotSize;E.setAttribute("r",D),E.setAttribute("cx",v.x),E.setAttribute("cy",v.y),E.setAttribute("fill",v.color),l.appendChild(E)});var i="data:image/svg+xml;base64,",c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+o+" "+s+" "+a+" "+u+'"')+(' width="'+a+'"')+(' height="'+u+'"')+">",d=l.innerHTML;if(d===void 0){var f=document.createElement("dummy"),g=l.childNodes;f.innerHTML="";for(var x=0;x<g.length;x+=1)f.appendChild(g[x].cloneNode(!0));d=f.innerHTML}var y="</svg>",P=c+d+y;return i+btoa(P)};_.prototype.fromData=function(e){var r=this;this.clear(),this._fromData(e,function(n,t){return r._drawCurve(n,t.start,t.end)},function(n){return r._drawDot(n)}),this._data=e};_.prototype.toData=function(){return this._data};const ot=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),it=Q(ot);var L={exports:{}},at=L.exports,X;function st(){return X||(X=1,(function(e,r){(function(n,t){e.exports=t()})(at,function(){return(function(n){function t(s){if(o[s])return o[s].exports;var a=o[s]={exports:{},id:s,loaded:!1};return n[s].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var o={};return t.m=n,t.c=o,t.p="",t(0)})([function(n,t){function o(i){var c=i.getContext("2d"),d=i.width,f=i.height,g=c.getImageData(0,0,d,f).data,x=u(!0,d,f,g),y=u(!1,d,f,g),P=l(!0,d,f,g),v=l(!1,d,f,g),E=v-P+1,D=y-x+1,C=c.getImageData(P,x,E,D);return i.width=E,i.height=D,c.clearRect(0,0,E,D),c.putImageData(C,0,0),i}function s(i,c,d,f){return{red:f[4*(d*c+i)],green:f[4*(d*c+i)+1],blue:f[4*(d*c+i)+2],alpha:f[4*(d*c+i)+3]}}function a(i,c,d,f){return s(i,c,d,f).alpha}function u(i,c,d,f){for(var g=i?1:-1,x=i?0:d-1,y=x;i?y<d:y>-1;y+=g)for(var P=0;P<c;P++)if(a(P,y,c,f))return y;return null}function l(i,c,d,f){for(var g=i?1:-1,x=i?0:c-1,y=x;i?y<c:y>-1;y+=g)for(var P=0;P<d;P++)if(a(y,P,c,f))return y;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}])})})(L)),L.exports}var ht=W.exports,G;function ct(){return G||(G=1,(function(e,r){(function(n,t){e.exports=t(nt(),Z(),it,st())})(ht,function(n,t,o,s){return(function(a){function u(i){if(l[i])return l[i].exports;var c=l[i]={exports:{},id:i,loaded:!1};return a[i].call(c.exports,c,c.exports,u),c.loaded=!0,c.exports}var l={};return u.m=a,u.c=l,u.p="",u(0)})([function(a,u,l){function i(m){return m&&m.__esModule?m:{default:m}}function c(m,p){var b={};for(var w in m)p.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(m,w)&&(b[w]=m[w]);return b}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?m:p}function g(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}Object.defineProperty(u,"__esModule",{value:!0});var x=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(m[w]=b[w])}return m},y=(function(){function m(p,b){for(var w=0;w<b.length;w++){var h=b[w];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}return function(p,b,w){return b&&m(p.prototype,b),w&&m(p,w),p}})(),P=l(1),v=i(P),E=l(2),D=i(E),C=l(3),z=i(C),J=l(4),K=i(J),F=(function(m){function p(){var b,w,h,A;d(this,p);for(var j=arguments.length,I=Array(j),S=0;S<j;S++)I[S]=arguments[S];return w=h=f(this,(b=p.__proto__||Object.getPrototypeOf(p)).call.apply(b,[this].concat(I))),h._sigPad=null,h._excludeOurProps=function(){var T=h.props,M=(T.canvasProps,T.clearOnResize,c(T,["canvasProps","clearOnResize"]));return M},h.getCanvas=function(){return h._canvas},h.getTrimmedCanvas=function(){var T=document.createElement("canvas");return T.width=h._canvas.width,T.height=h._canvas.height,T.getContext("2d").drawImage(h._canvas,0,0),(0,K.default)(T)},h.getSignaturePad=function(){return h._sigPad},h._checkClearOnResize=function(){h.props.clearOnResize&&h._resizeCanvas()},h._resizeCanvas=function(){var T=h.props.canvasProps||{},M=T.width,$=T.height;if(!M||!$){var O=h._canvas,k=Math.max(window.devicePixelRatio||1,1);M||(O.width=O.offsetWidth*k),$||(O.height=O.offsetHeight*k),O.getContext("2d").scale(k,k),h.clear()}},h.on=function(){return window.addEventListener("resize",h._checkClearOnResize),h._sigPad.on()},h.off=function(){return window.removeEventListener("resize",h._checkClearOnResize),h._sigPad.off()},h.clear=function(){return h._sigPad.clear()},h.isEmpty=function(){return h._sigPad.isEmpty()},h.fromDataURL=function(T,M){return h._sigPad.fromDataURL(T,M)},h.toDataURL=function(T,M){return h._sigPad.toDataURL(T,M)},h.fromData=function(T){return h._sigPad.fromData(T)},h.toData=function(){return h._sigPad.toData()},A=w,f(h,A)}return g(p,m),y(p,[{key:"componentDidMount",value:function(){this._sigPad=new z.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var b=this,w=this.props.canvasProps;return D.default.createElement("canvas",x({ref:function(h){b._canvas=h}},w))}}]),p})(E.Component);F.propTypes={velocityFilterWeight:v.default.number,minWidth:v.default.number,maxWidth:v.default.number,minDistance:v.default.number,dotSize:v.default.oneOfType([v.default.number,v.default.func]),penColor:v.default.string,throttle:v.default.number,onEnd:v.default.func,onBegin:v.default.func,canvasProps:v.default.object,clearOnResize:v.default.bool},F.defaultProps={clearOnResize:!0},u.default=F},function(a,u){a.exports=n},function(a,u){a.exports=t},function(a,u){a.exports=o},function(a,u){a.exports=s}])})})(W)),W.exports}export{ct as r};
//# sourceMappingURL=signature-4hWLY5Wy.js.map
